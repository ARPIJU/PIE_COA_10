{
  "paths": {
    "data_dir": "data",
    "excel_file": "CMA-FORM-FOE-10 (Perf Factor - Fuel Flow factor Record).xlsx",
    "txt_file": "Boeing_Perf_Data.txt",
    "outputs": {
      "non_maintenance_intervals": "impact_interval_non_maintenance.csv",
      "maintenance_type_rates": "maintenance_type_rates.csv",
      "maintenance_impacts_modeled": "maintenance_impacts_modeled.csv",
      "impact_summary": "impact_summary.csv",
      "maintenance_plan": "maintenance_plan.csv"
    }
  },

  "excel_sheets_priority": ["FHMRB", "FHMRC", "FHMRA", "FHMRI"],

  "txt_read": {
    "skip_rows": 5,
    "possible_separators": [",", ";", "\t", "|"],
    "dayfirst": true,
    "encoding": "utf-8",
    "fallback_encoding": "latin-1"
  },

  "columns_mapping": {
    "txt": {
      "Date Recorded ()": "recorded_date",
      "Time": "time",
      "Airplane ID ()": "tail_number",
      "FF Total": "fuel_flow",
      "Fuel Mileage (FM)": "perf_factor",
      "Mach": "mach",
      "TAT (Â°C)": "oat",
      "Flt Level": "altitude"
    },
    "excel_events": {
      "Date": "date",
      "Event": "event",
      "Remarks": "remarks",
      "Update ?": "update_flag",
      "Tail": "tail_number"
    }
  },

  "schema": {
    "txt_required": ["recorded_date", "timestamp", "tail_number", "fuel_flow"],
    "txt_optional": ["time", "mach", "oat", "altitude", "perf_factor", "CAS (kts)", "TAS (kts)", "Ground Speed (kts)"],
    "events_required": ["date", "event"],
    "events_optional": ["remarks", "update_flag", "tail_number"],
    "enforce_presence": true
  },

  "cleaning": {
    "timestamp": {
      "build_from": ["recorded_date", "time"],
      "coerce_errors": true,
      "drop_na": true
    },
    "duplicates": {
      "subset": ["timestamp", "tail_number"],
      "keep": "first"
    },
    "numeric": {
      "coerce": ["fuel_flow", "mach", "oat", "altitude", "perf_factor"],
      "fill_strategy": "drop"
    },
    "quality": {
      "flag_column": "quality_factor",
      "min_threshold": 0.0
    },
    "sort": {
      "txt_by": "timestamp",
      "events_by": "date"
    }
  },

  "impact": {
    "merge_tolerance_days": 3,
    "before_after_window_days": 30,
    "stabilization_window_days": 7,
    "min_points_per_interval": 3,
    "exclude_events_without_next": true,
    "require_prev_interval": true,
    "fallback_baseline_days": 14,
    "allowed_maintenance_types": [
      "RH engine wash",
      "LH engine wash",
      "Dual engine wash",
      "Airframe wash",
      "LH engine + Airframe wash",
      "Dual engine + Airframe wash",
      "A-check",
      "New line maintenance provider",
      "RH engine installed",
      "LH engine installed",
      "RH engine swap",
      "LH engine swap",
      "RH engine removed",
      "LH engine removed"
    ],
    "drift": {
      "method": "robust_linear",
      "min_interval_hours": 6,
      "winsorize_pct": 0.02
    },
    "maintenance_types": {
      "use_event_types_module": true,
      "default_types": [
        "RH engine wash",
        "LH engine wash",
        "Dual engine wash",
        "Airframe wash",
        "A-check",
        "RH engine installed",
        "LH engine installed"
      ]
    },
    "time_axis": "days"
  },

  "economics": {
    "fuel_price_per_unit": 0.75,
    "constraints": {
      "max_events": 10,
      "budget": 100000,
      "min_roi": 0.0
    },
    "catalog": [
      {
        "name": "RH engine wash",
        "cost": 5000,
        "benefit_days": 90,
        "downtime_hours": 6,
        "expected_delta_pf": null
      },
      {
        "name": "LH engine wash",
        "cost": 5000,
        "benefit_days": 90,
        "downtime_hours": 6,
        "expected_delta_pf": null
      },
      {
        "name": "Dual engine wash",
        "cost": 9000,
        "benefit_days": 90,
        "downtime_hours": 10,
        "expected_delta_pf": null
      },
      {
        "name": "Airframe wash",
        "cost": 8000,
        "benefit_days": 120,
        "downtime_hours": 8,
        "expected_delta_pf": null
      },
      {
        "name": "LH engine + Airframe wash",
        "cost": 12000,
        "benefit_days": 120,
        "downtime_hours": 12,
        "expected_delta_pf": null
      },
      {
        "name": "Dual engine + Airframe wash",
        "cost": 15000,
        "benefit_days": 150,
        "downtime_hours": 16,
        "expected_delta_pf": null
      },
      {
        "name": "A-check",
        "cost": 20000,
        "benefit_days": 180,
        "downtime_hours": 24,
        "expected_delta_pf": null
      },
      {
        "name": "New line maintenance provider",
        "cost": 10000,
        "benefit_days": 60,
        "downtime_hours": 12,
        "expected_delta_pf": null
      },
      {
        "name": "RH engine installed",
        "cost": 50000,
        "benefit_days": 365,
        "downtime_hours": 48,
        "expected_delta_pf": null
      },
      {
        "name": "LH engine installed",
        "cost": 50000,
        "benefit_days": 365,
        "downtime_hours": 48,
        "expected_delta_pf": null
      },
      {
        "name": "RH engine swap",
        "cost": 30000,
        "benefit_days": 200,
        "downtime_hours": 36,
        "expected_delta_pf": null
      },
      {
        "name": "LH engine swap",
        "cost": 30000,
        "benefit_days": 200,
        "downtime_hours": 36,
        "expected_delta_pf": null
      },
      {
        "name": "RH engine removed",
        "cost": 10000,
        "benefit_days": 30,
        "downtime_hours": 24,
        "expected_delta_pf": null
      },
      {
        "name": "LH engine removed",
        "cost": 10000,
        "benefit_days": 30,
        "downtime_hours": 24,
        "expected_delta_pf": null
      }
    ]
  },

  "reporting": {
    "plots": {
      "enabled": true,
      "metric_default": "fuel_flow",
      "event_col": "event"
    },
    "csv": {
      "index": false
    }
  },

  "logging": {
    "level": "INFO"
  }
}
